<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order #{{ order.id }} - Admin Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
    
    * {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }

    body {
      background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%);
    }

    .gradient-orange {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    }

    .gradient-orange-light {
      background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%);
    }

    .badge-orange {
      background-color: #fef3c7;
      color: #92400e;
    }

    .border-orange {
      border-color: #fed7aa;
    }

    .text-orange-dark {
      color: #b45309;
    }

    .hover-lift {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .hover-lift:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 25px -5px rgba(245, 158, 11, 0.15);
    }

    .card {
      background: white;
      border-radius: 12px;
      border: 1px solid #f0f0f0;
      transition: all 0.3s ease;
    }

    .card:hover {
      border-color: #fed7aa;
      box-shadow: 0 10px 30px -5px rgba(245, 158, 11, 0.1);
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.5px;
    }

    .status-delivered {
      background-color: #dcfce7;
      color: #166534;
    }

    .status-processing {
      background-color: #dbeafe;
      color: #1e40af;
    }

    .status-pending {
      background-color: #fef3c7;
      color: #92400e;
    }

    .timeline-step {
      display: flex;
      position: relative;
      padding-left: 50px;
      margin-bottom: 30px;
    }

    .timeline-step::before {
      content: '';
      position: absolute;
      left: 16px;
      top: 40px;
      bottom: -30px;
      width: 2px;
      background-color: #f3f4f6;
    }

    .timeline-step:last-child::before {
      display: none;
    }

    .timeline-dot {
      position: absolute;
      left: 4px;
      top: 0;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: white;
      border: 2px solid #d97706;
      font-size: 16px;
    }

    .timeline-dot.active {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      color: white;
      border-color: #d97706;
    }

    .timeline-dot.pending {
      background: #f3f4f6;
      border-color: #e5e7eb;
    }

    table tbody tr {
      border-bottom: 1px solid #f0f0f0;
      transition: background-color 0.2s ease;
    }

    table tbody tr:hover {
      background-color: #fefbf4;
    }

    .btn-primary {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
    }

    .btn-secondary {
      background: white;
      color: #d97706;
      padding: 10px 20px;
      border-radius: 8px;
      border: 2px solid #fed7aa;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .btn-secondary:hover {
      background: #fef3c7;
      border-color: #d97706;
    }

    .section-title {
      font-size: 20px;
      font-weight: 700;
      color: #0f172a;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .section-title::before {
      content: '';
      width: 4px;
      height: 28px;
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      border-radius: 2px;
    }

    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }

    .info-box {
      padding: 20px;
      background: #fafafa;
      border-radius: 8px;
      border: 1px solid #f0f0f0;
    }

    .info-label {
      font-size: 12px;
      font-weight: 600;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
    }

    .info-value {
      font-size: 16px;
      font-weight: 600;
      color: #0f172a;
    }
  </style>
</head>
<body class="antialiased">
  <!-- Header -->
  <header class="gradient-orange sticky top-0 z-50 shadow-lg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-5">
      <div class="flex justify-between items-center">
        <div class="flex items-center gap-3">
          <div class="w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
          </div>
          <h1 class="text-2xl font-bold text-white">Order Management</h1>
        </div>
        <a href="{% url 'admin_dashboard' %}" class="btn-secondary">
          ‚Üê Back to Dashboard
        </a>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Order Header Card -->
    <div class="card mb-8 hover-lift overflow-hidden">
      <div class="gradient-orange p-8">
        <div class="flex justify-between items-start">
          <div>
            <p class="text-white text-opacity-90 text-sm font-500 mb-2">Order Number</p>
            <h2 class="text-4xl font-bold text-white mb-4">#{{ order.id }}</h2>
            <p class="text-white text-opacity-80 text-sm">{{ order.created_at|date:"F j, Y \a\t H:i" }}</p>
          </div>
          <div class="text-right">
            <div class="status-badge {% if order.order_status == 'Delivered' %}status-delivered{% elif order.order_status == 'Processing' %}status-processing{% else %}status-pending{% endif %} mb-4">
              <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              {{ order.order_status }}
            </div>
          </div>
        </div>
      </div>

      <!-- Status Pills -->
      <div class="px-8 py-6 bg-white border-t border-orange">
        <div class="flex flex-wrap gap-4">
          <div class="badge-orange px-4 py-2 rounded-lg flex items-center gap-2">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
              <path d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"></path>
            </svg>
            <div>
              <p class="text-xs font-500 opacity-80">Payment Method</p>
              <p class="text-sm font-600">{{ order.payment_method }}</p>
            </div>
          </div>
          
          <div class="badge-orange px-4 py-2 rounded-lg flex items-center gap-2">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c4.5-4.5 11.882-4.5 16.382 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 00-1.414-1.414 9 9 0 0112.728 0 1 1 0 00-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 00-1.415-1.414 5 5 0 017.072 0 1 1 0 00-1.415 1.414zM9 16a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd"></path>
            </svg>
            <div>
              <p class="text-xs font-500 opacity-80">Payment Status</p>
              <p class="text-sm font-600">{% if order.paid %}Paid{% else %}Not Paid{% endif %}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Customer & Shipping Info -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
      <!-- Customer Information -->
      <div class="card p-8 hover-lift">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-10 h-10 rounded-lg gradient-orange-light flex items-center justify-center">
            <svg class="w-6 h-6 text-orange-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
          </div>
          <h3 class="section-title flex-1 m-0">Customer Information</h3>
        </div>
        
        <div class="space-y-4">
          <div class="info-box">
            <p class="info-label">Full Name</p>
            <p class="info-value">{{ order.full_name }}</p>
          </div>
          <div class="info-box">
            <p class="info-label">Email Address</p>
            <p class="info-value text-sm break-all">{{ order.user.email }}</p>
          </div>
          <div class="info-box">
            <p class="info-label">Phone Number</p>
            <p class="info-value">{{ order.phone_number }}</p>
          </div>
        </div>
      </div>

      <!-- Shipping Details -->
      <div class="card p-8 hover-lift">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-10 h-10 rounded-lg gradient-orange-light flex items-center justify-center">
            <svg class="w-6 h-6 text-orange-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
            </svg>
          </div>
          <h3 class="section-title flex-1 m-0">Shipping Address</h3>
        </div>
        
        <div class="space-y-4">
          <div class="info-box">
            <p class="info-label">Address</p>
            <p class="info-value text-sm">{{ order.address }}</p>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div class="info-box">
              <p class="info-label">City</p>
              <p class="info-value text-sm">{{ order.city }}</p>
            </div>
            <div class="info-box">
              <p class="info-label">Postal Code</p>
              <p class="info-value text-sm">{{ order.postal_code }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Order Items -->
    <div class="card mb-8 hover-lift overflow-hidden">
      <div class="gradient-orange px-8 py-6 flex items-center gap-3">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
        </svg>
        <h3 class="text-xl font-bold text-white m-0">Ordered Items</h3>
      </div>

      <div class="overflow-x-auto">
  <table class="w-full">
    <thead>
      <tr class="bg-gray-50 border-b border-gray-200">
        <th class="px-8 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide">Product</th>
        <th class="px-8 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide">Image</th>
        <th class="px-8 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide">Quantity</th>
        <th class="px-8 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide">Price</th>
        <th class="px-8 py-4 text-right text-xs font-bold text-gray-700 uppercase tracking-wide">Total</th>
      </tr>
    </thead>

    <tbody>
      {% for item in order_items %}
      <tr class="border-b border-gray-100 hover:bg-amber-50 transition">
        <!-- Product Name -->
        <td class="px-8 py-6 whitespace-nowrap">
          <div class="font-semibold text-gray-900">
            {% if item.product_obj %}
              {{ item.product_obj.name }}
            {% else %}
              <span class="text-gray-400 italic">Product Not Found</span>
            {% endif %}
          </div>
        </td>

        <!-- Product Image -->
        <td class="px-8 py-6 whitespace-nowrap">
          {% if item.product_obj and item.product_obj.image %}
            <img src="{{ item.product_obj.image.url }}" 
                 alt="{{ item.product_obj.name }}" 
                 class="h-16 w-16 object-cover rounded-lg border border-gray-200 shadow-sm">
          {% else %}
            <div class="h-16 w-16 flex items-center justify-center bg-gray-100 text-gray-400 rounded-lg border border-gray-200 text-sm">
              No Image
            </div>
          {% endif %}
        </td>

        <!-- Quantity -->
        <td class="px-8 py-6 whitespace-nowrap">
          <span class="px-3 py-1 bg-amber-100 text-amber-800 text-sm font-semibold rounded-lg">
            {{ item.quantity }}
          </span>
        </td>

        <!-- Price -->
        <td class="px-8 py-6 whitespace-nowrap">
          <div class="font-semibold text-gray-900">
            ‚Çπ{{ item.price|floatformat:2 }}
          </div>
        </td>

        <!-- Total -->
        <td class="px-8 py-6 whitespace-nowrap text-right">
          <div class="font-bold text-amber-700 text-lg">
            ‚Çπ{{ item.total_price|floatformat:2 }}
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

    </div>

    <!-- Timeline -->
    <div class="card mb-8 hover-lift">
      <div class="gradient-orange px-8 py-6 flex items-center gap-3">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
        </svg>
        <h3 class="text-xl font-bold text-white m-0">Order Timeline</h3>
      </div>

      <div class="p-8">
        <!-- Step 1: Order Placed -->
        <div class="timeline-step">
          <div class="timeline-dot active">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <div>
            <p class="font-600 text-orange-dark text-base">Order Placed</p>
            <p class="text-sm text-gray-600 mt-1">{{ order.created_at|date:"F j, Y \a\t H:i" }}</p>
          </div>
        </div>

        <!-- Step 2: Payment Confirmed -->
        <div class="timeline-step">
          <div class="timeline-dot active">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
          </div>
          <div>
            <p class="font-600 text-orange-dark text-base">Payment Confirmed</p>
            <p class="text-sm text-gray-600 mt-1">{{ order.created_at|date:"F j, Y \a\t H:i" }}</p>
          </div>
        </div>

        <!-- Step 3: Processing -->
        <div class="timeline-step">
          <div class="timeline-dot {% if order.order_status == 'Processing' or order.order_status == 'Delivered' %}active{% else %}pending{% endif %}">
            <svg class="w-4 h-4" {% if order.order_status == 'Processing' or order.order_status == 'Delivered' %}fill="currentColor"{% else %}fill="none" stroke="currentColor"{% endif %} viewBox="0 0 20 20">
              <path {% if order.order_status == 'Processing' or order.order_status == 'Delivered' %}fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"{% else %}stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"{% endif %}></path>
            </svg>
          </div>
          <div>
            <p class="{% if order.order_status == 'Processing' or order.order_status == 'Delivered' %}font-600 text-orange-dark{% else %}font-500 text-gray-600{% endif %} text-base">Processing</p>
            <p class="text-sm text-gray-500 mt-1">Your order is being carefully prepared for shipment</p>
          </div>
        </div>

        <!-- Step 4: Delivered -->
        <div class="timeline-step">
          <div class="timeline-dot {% if order.order_status == 'Delivered' %}active{% else %}pending{% endif %}">
            <svg class="w-4 h-4" {% if order.order_status == 'Delivered' %}fill="currentColor"{% else %}fill="none" stroke="currentColor"{% endif %} viewBox="0 0 20 20">
              <path {% if order.order_status == 'Delivered' %}fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"{% else %}stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"{% endif %}></path>
            </svg>
          </div>
          <div>
            <p class="{% if order.order_status == 'Delivered' %}font-600 text-orange-dark{% else %}font-500 text-gray-600{% endif %} text-base">Delivered</p>
            <p class="text-sm text-gray-500 mt-1">{% if order.order_status == 'Delivered' %}Order successfully delivered to your address{% else %}Awaiting delivery{% endif %}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    
  </main>

  <!-- Footer -->
  <footer id="contact" class="bg-gray-900 text-gray-300">
    <div class="container mx-auto px-3 sm:px-4 py-8 sm:py-12">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
        <!-- Brand -->
        <div>
          <h3 class="text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4">Sona Enterprises</h3>
          <p class="text-xs sm:text-sm mb-4">Quality fashion, electronics, and toys for every occasion.</p>
          <div class="flex space-x-3">
            <a href="#" class="text-gray-400 hover:text-white transition text-sm">Facebook</a>
            <a href="#" class="text-gray-400 hover:text-white transition text-sm">Instagram</a>
            <a href="#" class="text-gray-400 hover:text-white transition text-sm">Twitter</a>
          </div>
        </div>

        <!-- Quick Links -->
        <div>
          <h3 class="text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4">Quick Links</h3>
          <ul class="space-y-1 sm:space-y-2 text-xs sm:text-sm">
            <li><a href="#" class="hover:text-white transition">Home</a></li>
            <li><a href="#featured-products" class="hover:text-white transition">Shop</a></li>
            <li><a href="#" class="hover:text-white transition">About</a></li>
            <li><a href="#contact" class="hover:text-white transition">Contact</a></li>
          </ul>
        </div>

        <!-- Support -->
        <div>
          <h3 class="text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4">Support</h3>
          <ul class="space-y-1 sm:space-y-2 text-xs sm:text-sm">
            <li><a href="#" class="hover:text-white transition">FAQ</a></li>
            <li><a href="#" class="hover:text-white transition">Shipping Info</a></li>
            <li><a href="#" class="hover:text-white transition">Returns</a></li>
            <li><a href="#" class="hover:text-white transition">Privacy</a></li>
          </ul>
        </div>

        <!-- Contact -->
        <div>
          <h3 class="text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4">Contact</h3>
          <ul class="space-y-2 text-xs sm:text-sm">
            <li class="flex items-start gap-2">
              <span class="text-amber-400 mt-0.5">üìç</span>
              <span>123 Business Lane, City 12345</span>
            </li>
            <li class="flex items-center gap-2">
              <span class="text-amber-400">üìû</span>
              <span>(123) 456-7890</span>
            </li>
            <li class="flex items-center gap-2">
              <span class="text-amber-400">üìß</span>
              <span>hello@sonaenterprises.com</span>
            </li>
          </ul>
        </div>
      </div>

      <div class="border-t border-gray-800 mt-8 pt-6 sm:pt-8 text-center text-xs sm:text-sm">
        <p>&copy; <span id="current-year">2024</span> Sona Enterprises. All rights reserved.</p>
      </div>
    </div>
  </footer>
</body>
</html>